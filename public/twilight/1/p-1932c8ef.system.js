var __spreadArray=this&&this.__spreadArray||function(e,r,t){if(t||arguments.length===2)for(var u=0,a=r.length,s;u<a;u++){if(s||!(u in r)){if(!s)s=Array.prototype.slice.call(r,0,u);s[u]=r[u]}}return e.concat(s||Array.prototype.slice.call(r))};
/*!
 * Crafted with ❤ by Salla
 */System.register([],(function(e){"use strict";return{execute:function(){salla.event.setMaxListeners(100);var r=function(){function e(){}e.prototype.toggleElementClassIf=function(e,r,t,u){var a,s;r=Array.isArray(r)?r:r.split(" ");t=Array.isArray(t)?t:t.split(" ");var n=u(e);e===null||e===void 0?void 0:(a=e.classList).remove.apply(a,n?t:r);e===null||e===void 0?void 0:(s=e.classList).add.apply(s,n?r:t);return this};e.prototype.toggleClassIf=function(e,r,t,u){var a=this;document.querySelectorAll(e).forEach((function(e){return a.toggleElementClassIf(e,r,t,u)}));return this};e.prototype.isValidEmail=function(e){var r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return r.test(String(e).toLowerCase())};e.prototype.filterEmojies=function(e){var r=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;return e.replace(r,"")};e.prototype.debounce=function(e){var r=[];for(var t=1;t<arguments.length;t++){r[t-1]=arguments[t]}if(!this.debounce_){this.debounce_=salla.helpers.debounce((function(e){var r=[];for(var t=1;t<arguments.length;t++){r[t-1]=arguments[t]}return e.apply(void 0,r)}),500)}return this.debounce_.apply(this,__spreadArray([e],r,false))};e.prototype.getProductsSource=function(e){return{"brands.single":"brands","product.index":"categories","product.index.latest":"latest","product.index.offers":"offers","product.index.search":"search","customer.wishlist":"wishlist","landing-page":"landing-page","product.index.tag":"tags","product.index.sales":"sales","components.most_sales_products":"sales"}[e||salla.config.get("page.slug")]||e||"latest"};e.prototype.getPageTitleForSource=function(e){e={brands:"common.titles.brands",latest:"blocks.home.latest_products",offers:"common.titles.discounts",sales:"common.titles.most_sales"}[e];return e?salla.lang.get(e):""};e.prototype.getProductsSourceValue=function(e,r){var t=this.getProductsSource(e);var u=null;if(r){try{u=JSON.parse(r)}catch(e){console.error("Invalid JSON string in sourceValue:",e)}}if(!["search","json","offers","latest","sales","related"].includes(t)){if(Array.isArray(u)&&u.length){return u}if(Array.isArray(u)&&!u.length){return""}if(typeof u==="number"){return[u]}if(!r&&["categories","tags","brands"].includes(e)){return[salla.config.get("page.id")]}}if(u||r){return u||r}if(t==="search"){return new URLSearchParams(window.location.search).get("q")||""}return salla.config.get("page.id")};e.prototype.extractFiltersFromUrl=function(e){var r={};e.forEach((function(e,t){var u=t.match(/^filters\[(.*?)\](\[(.*?)\])?$/u);if(u){var a=u[1];var s=u[3];if(s){r[a]=r[a]||{};r[a][s]=e}else{r[a]=e}}else{var n=t.match(/^(.*?)$/u);if(n){r[n[1]]=e}}}));return r};e.prototype.onSallaReadyPromise=function(e){return new Promise((function(r){return salla.onReady((function(){return r(e())}))}))};e.prototype.fetchProducts=function(e,r,t){return this.onSallaReadyPromise((function(){return salla.product.api.fetch({source:e,source_value:r,limit:t})}))};return e}();var t=e("H",new r)}}}));
//# sourceMappingURL=p-1932c8ef.system.js.map