{"version":3,"names":["sallaContactsCss","SallaContacts","constructor","hostRef","salla","config","get","mobile","whatsapp","phone","telegram","email","this","contactSlot","_a","host","querySelector","innerHTML","iconsOnly","onReady","contacts","lang","onLoaded","contactsTitle","getContactsArray","Object","entries","filter","_key","value","map","type","getContactLink","url","getContactIcon","iconsList","render","contactsArray","isHeader","length","h","Host","class","contact","index","href","key","hideTitle","horizontal","id","replace","toString","componentDidRender","remove"],"sources":["src/components/salla-contacts/salla-contacts.scss?tag=salla-contacts","src/components/salla-contacts/salla-contacts.tsx"],"sourcesContent":[".unicode {\n  unicode-bidi: plaintext;\n}","import { Component, Host, h, Prop, State, Element } from '@stencil/core';\nimport mobile from '../../assets/svg/iphone.svg';\nimport whatsapp from '../../assets/svg/whatsapp2.svg';\nimport phone from '../../assets/svg/phone.svg';\nimport telegram from '../../assets/svg/paper-plane-o.svg';\nimport email from '../../assets/svg/mail.svg';\n/**\n * @slot contact - Replaces contact item, has replaceable props `{icon}`, `{value}`.\n */\n@Component({\n  tag: 'salla-contacts',\n  styleUrl: 'salla-contacts.scss',\n})\nexport class SallaContacts {\n  constructor() {\n    this.contactSlot = this.host.querySelector('[slot=\"contact\"]')?.innerHTML || `<a href={link} class=\"s-contacts-item\"><span class=\"s-contacts-icon\">{icon}</span>${!this.iconsOnly && \"<span class='unicode'>{value}</span>\"}</a>`;\n\n    salla.onReady(() => {\n      this.contacts = salla.config.get('store.contacts');\n    });\n\n    salla.lang.onLoaded(() => {\n      this.contactsTitle =  this.contactsTitle || salla.lang.get('blocks.footer.social');\n    });\n  }\n  private readonly contactSlot: string;\n\n  /**\n   * Section title for social block of footer.\n   */\n  @Prop({mutable: true}) contactsTitle: string;\n\n  /**\n   * Flag to toggle title visibility.\n   */\n  @Prop() hideTitle: boolean;\n\n  /**\n   * Conditional flag to check whether the content is header or not.\n   */\n  @Prop() isHeader: boolean;\n\n  /**\n   * Flag to toggle list of contents whether vertical or horizontal.\n   */\n  @Prop() horizontal: boolean;\n\n  /**\n   * Flag condition to show icon only or icon with label\n   */\n  @Prop() iconsOnly: boolean;\n\n\n  @Element() host: HTMLElement;\n  @State() contacts: any = salla.config.get('store.contacts');\n  @State() iconsList: any = { mobile, whatsapp, phone, telegram, email }\n\n  private getContactsArray() {\n    return Object.entries(this.contacts)\n      .filter(([_key, value]) => value !== '')\n      .map(([type, value]) => ({ type, value }));\n  }\n\n  private getContactLink(type) {\n    switch (type) {\n      case 'phone':\n        return `tel:${this.contacts[type]}`; \n      case 'mobile':\n        return `tel:${this.contacts[type]}`;\n      case 'whatsapp':\n        return salla.url.get('whatsapp/send');\n      case 'email':\n        return `mailto:${this.contacts[type]}`;\n      case 'telegram':\n        return `https://t.me/${this.contacts[type]}`;\n      default:\n        return this.contacts[type];\n    }\n  }\n\n  private getContactIcon(type) {\n    return this.iconsList[type];\n  }\n  render() {\n    const contactsArray = this.getContactsArray();\n    if (this.isHeader && contactsArray && contactsArray.length > 0) {\n      return (\n        <Host class=\"s-contacts s-contacts-header\">\n          {contactsArray.filter((contact) => contact.type == 'phone' || contact.type == 'email').map((contact, index) => (\n            <a href={this.getContactLink(contact.type)} key={index} class=\"s-contacts-topnav-link\">\n              {contact.type === 'email' ? (\n                contact.value\n              ) : (\n                [\n                  <span>{this.contactsTitle}: </span>,\n                  <a class=\"unicode\" href={this.iconsList[contact.type]}>{contact.value}</a>\n                ]\n              )}\n            </a>\n          ))}\n        </Host>\n      );\n    }\n    return (\n      <Host class=\"s-contacts\">\n        {!this.hideTitle && <h3 class=\"s-contacts-title\">{this.contactsTitle}</h3>}\n        <div class={{\n          's-contacts-list': true,\n          's-contacts-list-horizontal': this.horizontal,\n          's-contacts-list-vertical': !this.horizontal,\n          's-contacts-list-icons-only': this.iconsOnly\n        }\n        }>\n          {contactsArray.map((contact, index) => (\n            <div key={index} id=\"contact-slot\" innerHTML={this.contactSlot\n              .replace(/\\{icon\\}/g, this.getContactIcon(contact.type))\n              .replace(/\\{value\\}/g, contact.value.toString())\n              .replace(/\\{link\\}/g, this.getContactLink(contact.type))}>\n            </div>\n          ))}\n        </div>\n      </Host>\n    );\n  }\n  componentDidRender() {\n    // this.host.querySelectorAll('#contact-slot').forEach(el => el.replaceWith(el.firstChild));\n    this.host.querySelector('[slot=\"contact\"]')?.remove();\n  }\n}\n\n"],"mappings":";;;smIAAA,MAAMA,EAAmB,kE,MCaZC,EAAa,MACxB,WAAAC,CAAAC,G,+JAwCyBC,MAAMC,OAAOC,IAAI,kB,eAChB,CAAEC,SAAQC,WAAUC,QAAOC,WAAUC,SAxC7DC,KAAKC,cAAcC,EAAAF,KAAKG,KAAKC,cAAc,uBAAmB,MAAAF,SAAA,SAAAA,EAAEG,YAAa,sFAAsFL,KAAKM,WAAa,6CAErLd,MAAMe,SAAQ,KACZP,KAAKQ,SAAWhB,MAAMC,OAAOC,IAAI,iBAAiB,IAGpDF,MAAMiB,KAAKC,UAAS,KAClBV,KAAKW,cAAiBX,KAAKW,eAAiBnB,MAAMiB,KAAKf,IAAI,uBAAuB,G,CAmC9E,gBAAAkB,GACN,OAAOC,OAAOC,QAAQd,KAAKQ,UACxBO,QAAO,EAAEC,EAAMC,KAAWA,IAAU,KACpCC,KAAI,EAAEC,EAAMF,MAAM,CAAQE,OAAMF,W,CAG7B,cAAAG,CAAeD,GACrB,OAAQA,GACN,IAAK,QACH,MAAO,OAAOnB,KAAKQ,SAASW,KAC9B,IAAK,SACH,MAAO,OAAOnB,KAAKQ,SAASW,KAC9B,IAAK,WACH,OAAO3B,MAAM6B,IAAI3B,IAAI,iBACvB,IAAK,QACH,MAAO,UAAUM,KAAKQ,SAASW,KACjC,IAAK,WACH,MAAO,gBAAgBnB,KAAKQ,SAASW,KACvC,QACE,OAAOnB,KAAKQ,SAASW,G,CAInB,cAAAG,CAAeH,GACrB,OAAOnB,KAAKuB,UAAUJ,E,CAExB,MAAAK,GACE,MAAMC,EAAgBzB,KAAKY,mBAC3B,GAAIZ,KAAK0B,UAAYD,GAAiBA,EAAcE,OAAS,EAAG,CAC9D,OACEC,EAACC,EAAI,CAACC,MAAM,gCACTL,EAAcV,QAAQgB,GAAYA,EAAQZ,MAAQ,SAAWY,EAAQZ,MAAQ,UAASD,KAAI,CAACa,EAASC,IACnGJ,EAAA,KAAGK,KAAMjC,KAAKoB,eAAeW,EAAQZ,MAAOe,IAAKF,EAAOF,MAAM,0BAC3DC,EAAQZ,OAAS,QAChBY,EAAa,OAGXH,EAAA,YAAO5B,KAAKW,cAAa,MACzBiB,EAAA,KAAGE,MAAM,UAAUG,KAAMjC,KAAKuB,UAAUQ,EAAQZ,OAAQY,EAAQd,W,CAQ9E,OACEW,EAACC,EAAI,CAACC,MAAM,eACR9B,KAAKmC,WAAaP,EAAA,MAAIE,MAAM,oBAAoB9B,KAAKW,eACvDiB,EAAA,OAAKE,MAAO,CACV,kBAAmB,KACnB,6BAA8B9B,KAAKoC,WACnC,4BAA6BpC,KAAKoC,WAClC,6BAA8BpC,KAAKM,YAGlCmB,EAAcP,KAAI,CAACa,EAASC,IAC3BJ,EAAA,OAAKM,IAAKF,EAAOK,GAAG,eAAehC,UAAWL,KAAKC,YAChDqC,QAAQ,YAAatC,KAAKsB,eAAeS,EAAQZ,OACjDmB,QAAQ,aAAcP,EAAQd,MAAMsB,YACpCD,QAAQ,YAAatC,KAAKoB,eAAeW,EAAQZ,Y,CAO9D,kBAAAqB,G,OAEEtC,EAAAF,KAAKG,KAAKC,cAAc,uBAAmB,MAAAF,SAAA,SAAAA,EAAEuC,Q"}