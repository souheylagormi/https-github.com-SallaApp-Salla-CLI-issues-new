/*!
 * Crafted with ‚ù§ by Salla
 */
System.register(["./p-52326bc0.system.js"],(function(e){"use strict";var t,s,r;return{setters:[function(e){t=e.r;s=e.h;r=e.g}],execute:function(){var i='.s-offer-wrapper .s-slider-block__title h2{font-size:1.125rem;line-height:1.75rem;color:#f87171}.s-offer-wrapper .s-slider-block__title h2::before{font-family:"sallaicons";content:"\\ee30" !important;position:absolute;top:1rem;font-size:3rem;font-weight:400;line-height:1;color:#fef2f2}.s-offer-bank-wrapper-sinlge-item{display:-ms-flexbox;display:flex;-ms-flex-align:center !important;align-items:center !important;gap:14px}.s-offer-bank-wrapper{display:-ms-flexbox !important;display:flex !important;width:100% !important}';var n=e("salla_offer",function(){function e(e){var s=this;t(this,e);var r;this.productId=undefined;this.offer=undefined;this.offersList=[];this.userCurrency=undefined;this.isMultipleBank=undefined;this.title=undefined;this.offer_with_price_text=salla.lang.get("pages.offer.with_price",{price:""});this.with_discount_text=salla.lang.get("pages.products.with_a_discount");this.product_discount_text=salla.lang.get("pages.products.discount");this.special_offer_text=salla.lang.get("pages.products.special_offer");this.buy_quantity_text=function(e){return salla.lang.get("pages.offer.buy_quantity",{quantity:e})};salla.lang.onLoaded((function(){s.offer_with_price_text=salla.lang.get("pages.offer.with_price");s.with_discount_text=salla.lang.get("pages.products.with_a_discount");s.product_discount_text=salla.lang.get("pages.products.discount");s.special_offer_text=salla.lang.get("pages.products.special_offer");s.buy_quantity_text("")}));salla.onReady((function(){s.productId=s.productId||(salla.url.is_page("product.single")?salla.config.get("page.id"):null);s.userCurrency=salla.config.get("user.currency")}));this.categorySlot=((r=this.host.querySelector('[slot="category"]'))===null||r===void 0?void 0:r.innerHTML)||'<a href={url} class="s-offer-slide-cat-entry"><i class={icon}></i><h4>{name}</h4></a>'}e.prototype.getCategoriesSection=function(e){var t=this;return e.map((function(e){return s("div",{class:"s-offer-slide-one-sixth swiper-slide",innerHTML:t.categorySlot.replace(/\{url\}/g,e.url).replace(/\{icon\}/g,e.icon).replace(/\{name\}/g,e.name)})}))};e.prototype.getProductSection=function(e){return e.map((function(e){return s("div",{class:"s-offer-slide-one-fourth"},s("salla-product-card",{"shadow-on-hover":true,product:e}))}))};e.prototype.getBankSection=function(e,t,r){var i=this;return e.map((function(e){return s("div",{class:{"s-offer-slide-one-sixth":i.isMultipleBank,"s-offer-bank-wrapper-sinlge-item":!i.isMultipleBank}},s("div",{class:{"s-offer-bank-wrapper":true,"s-offer-slide-one-sixth":!i.isMultipleBank,"s-offer-bank-wrapper-multi-spacer":i.isMultipleBank}},s("div",{class:"s-offer-bank-logo"},s("img",{src:e.logo||salla.url.cdn("images/s-empty.png"),"data-src":e.logo,alt:e.name+" offer"})),s("ul",{class:"s-offer-bank-payment-wrapper"},e.payments.map((function(e){return s("li",{class:"s-offer-bank-payment-single"},s("img",{src:salla.url.cdn("images/payment/"+e+"_mini.png")||salla.url.cdn("images/s-empty.png"),"data-src":salla.url.cdn("images/payment/"+e+"_mini.png"),alt:"payment"}))}))),i.isMultipleBank?s("p",{class:"s-offer-bank-payment-discount-percent"},i.product_discount_text+e.percent,"%"):""),!i.isMultipleBank?s("div",{class:"s-offer-bank-message s-offer-slide-one-fourth"},s("h2",null,t),s("p",null,r)):"")}))};e.prototype.getDiscountTableSection=function(e){var t=this;return e.map((function(e){var r;return s("div",{class:"s-offer-slide-one-fourth"},s("div",{class:"s-offer-slide-offer-entry"},s("div",{class:"s-offer-slide-offer-entry-price-quantity-container"},s("p",{class:"s-offer-slide-offer-entry-quantity"},t.buy_quantity_text(e.quantity_text)),e.show_discounted_price?s("div",{class:"s-offer-slide-offer-entry-price"},s("span",null,t.offer_with_price_text),s("span",{class:"s-offer-slide-offer-entry-price-amount"},salla.helpers.money(e.price))," ",(r=t.userCurrency)===null||r===void 0?void 0:r.symbol):""),s("p",{class:"s-offer-slide-offer-entry-price-amount-percent"},t.with_discount_text,"(",s("span",null,e.percent),")")))}))};e.prototype.render=function(){if(!this.productId){salla.logger.error("salla-offer::Can't render the component without product-id!");return}if(!this.offersList.length)return null;var e=this.offersList[0];this.isMultipleBank=!!e&&!!e.get.banks&&e.get.banks.length>1;return s("div",{class:"s-offer-wrapper"},s("p",{class:"s-offer-corner-badge"},this.special_offer_text),s("salla-slider",{type:"carousel","block-title":this.isMultipleBank?e.name:null,"block-subTitle":this.isMultipleBank?e.message:null,id:"offer-slider"},s("div",{slot:"items"},[!!e.get.categories?this.getCategoriesSection(e.get.categories):!!e.get.products?this.getProductSection(e.get.products):!!e.get.banks?this.getBankSection(e.get.banks,e.name,e.message):"",!!e.get.discounts_table?this.getDiscountTableSection(e.get.discounts_table):""])))};e.prototype.componentWillLoad=function(){var e=this;return this.productId?salla.api.product.offers(this.productId).then((function(t){return e.offersList=t.data})):null};Object.defineProperty(e.prototype,"host",{get:function(){return r(this)},enumerable:false,configurable:true});return e}());n.style=i}}}));
//# sourceMappingURL=p-83ac9dee.system.entry.js.map