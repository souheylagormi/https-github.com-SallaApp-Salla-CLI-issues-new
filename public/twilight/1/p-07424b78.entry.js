/*!
 * Crafted with ❤ by Salla
 */
import{r as s,h as t,H as i,g as e}from"./p-e72c32ba.js";import{H as r}from"./p-4be9ecb6.js";const d="";const u=class{constructor(t){s(this,t);this.blockTitle=undefined;this.subTitle=undefined;this.sliderId=undefined;this.displayAllUrl=undefined;this.autoplay=undefined;this.source=undefined;this.sourceValue=undefined;this.limit=undefined;this.sliderConfig=undefined;this.productCardComponent="custom-salla-product-card";this.productsData=undefined;this.isReady=undefined;this.sourceValueIsValid=undefined;this.hasCustomComponent=undefined;this.apiUrl="";this.parsedSourceValue=undefined}isSourceWithoutValue(){return["offers","latest","sales"].includes(this.getSource())}getItemHTML(s){this.getSource()==="landing-page"&&(s.url="");if(this.hasCustomComponent&&this.productCardComponent.toLowerCase()=="custom-salla-product-card"){return t("div",{class:"s-products-slider-card"},t("custom-salla-product-card",{product:s,source:this.getSource(),"source-value":this.getSourceValue()}))}if(this.hasCustomComponent){const i=document.createElement(this.productCardComponent);i.setAttribute("product",JSON.stringify(s));i.setAttribute("source",this.getSource());i.setAttribute("source-value",this.getSourceValue());return t("div",{class:"s-products-slider-card",innerHTML:i.outerHTML})}return t("div",{class:"s-products-slider-card"},t("salla-product-card",{"show-quantity":this.getSource()=="landing-page","hide-add-btn":this.getSource()=="landing-page","shadow-on-hover":true,product:s}))}canRender(){return this.sourceValueIsValid&&this.isReady}componentWillLoad(){return r.onSallaReadyPromise((()=>{this.sourceValueIsValid=!!(this.getSourceValue()||this.isSourceWithoutValue());if(!this.sourceValueIsValid){salla.logger.warn(`source-value prop is required for source [${this.getSource()}]`);return}this.hasCustomComponent=!!customElements.get(this.productCardComponent);if(this.source==="json"){this.productsData=this.getSourceValue();this.isReady=true;return}if(this.getSource()=="related"&&!salla.config.get("store.settings.product.related_products_enabled")){return this.isReady=false}return r.fetchProducts(this.getSource(),this.getSourceValue(),this.limit).then((s=>{this.productsData=s.data;this.isReady=true;salla.event.emit("salla-products-slider::products.fetched",s.data)}))}))}getSource(){return r.getProductsSource(this.source)}getSourceValue(){return r.getProductsSourceValue(this.source,this.sourceValue)}render(){var s;if(!this.canRender()){return}return t(i,{class:"s-products-slider-wrapper"},t("salla-slider",{class:"s-products-slider-slider",id:this.sliderId||`s-products-slider-${Math.random().toString(36).substr(2,9)}`,"auto-play":this.autoplay,type:"carousel","block-title":this.blockTitle,"block-subTitle":this.subTitle,"display-all-url":this.displayAllUrl,sliderConfig:this.sliderConfig?this.sliderConfig:null},t("div",{slot:"items"},(s=this.productsData)===null||s===void 0?void 0:s.map((s=>this.getItemHTML(s))))))}get host(){return e(this)}};u.style=d;export{u as salla_products_slider};
//# sourceMappingURL=p-07424b78.entry.js.map