/*!
 * Crafted with ❤ by Salla
 */
import{r as t,h as s,H as a,g as i}from"./p-e72c32ba.js";const l=":host{display:block}";const n=class{constructor(s){t(this,s);this.data=salla.config.get("store.app_install_prompt");this.ctaLink=undefined;this.open=false;this.closing=false}connectedCallback(){salla.onReady((()=>{this.data=salla.config.get("store.app_install_prompt");if(!this.isMobileOrTabletDevice()){return}this.ctaLink=salla.config.get("store.apps")[this.getMobileOS()==="iOS"?"appstore":"googleplay"];setTimeout((()=>this.open=true),3e3)}))}getMobileOS(){const t=navigator.userAgent;if(/android/i.test(t)){return"Android"}else if(/iPad|iPhone|iPod/.test(t)||/Macintosh/i.test(navigator.userAgent)&&"ontouchend"in document){return"iOS"}return"Other"}isMobileOrTabletDevice(t=1024){const s=window.innerWidth<=t;const a=/Macintosh|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);const i="ontouchstart"in window||"ontouchend"in document||navigator.maxTouchPoints>0;return a&&s&&i}closeAlert(){salla.storage.set("app_install_prompt_disabled",true);this.closing=true;this.host.addEventListener("animationend",(()=>{this.closing=false;this.open=false}),{once:true})}render(){return s(a,{class:`s-app-install-alert-wrapper ${this.open?"open":""} ${this.closing?"closing":""}`,position:this.data.position},s("div",null,s("img",{src:this.data.icon,width:"58",height:"58",alt:`${salla.config.get("store.name")}`})),s("div",{class:"s-app-install-alert-content"},s("h2",{class:"s-app-install-alert-title"},this.data.title),s("p",{class:"s-app-install-alert-sub-title"},this.data.sub_title," "," ",s("a",{href:this.ctaLink,target:"_blank","aria-label":"download app",class:"s-app-install-alert-cta"},salla.lang.getWithDefault("blocks.footer.download_app_now","حمله الآن")))),s("button",{class:"s-app-install-alert-cancel-button",onClick:()=>this.closeAlert()},s("i",{class:"sicon-cancel"})))}get host(){return i(this)}};n.style=l;export{n as salla_app_install_alert};
//# sourceMappingURL=p-f7fa1662.entry.js.map