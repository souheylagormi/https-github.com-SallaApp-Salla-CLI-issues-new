/*!
 * Crafted with ❤ by Salla
 */
salla.event.setMaxListeners(100);class u{toggleElementClassIf(u,e,s,t){e=Array.isArray(e)?e:e.split(" ");s=Array.isArray(s)?s:s.split(" ");let r=t(u);u===null||u===void 0?void 0:u.classList.remove(...r?s:e);u===null||u===void 0?void 0:u.classList.add(...r?e:s);return this}toggleClassIf(u,e,s,t){document.querySelectorAll(u).forEach((u=>this.toggleElementClassIf(u,e,s,t)));return this}isValidEmail(u){const e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(u).toLowerCase())}filterEmojies(u){var e=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;return u.replace(e,"")}debounce(u,...e){if(!this.debounce_){this.debounce_=salla.helpers.debounce(((u,...e)=>u(...e)),500)}return this.debounce_(u,...e)}getProductsSource(u){return{"brands.single":"brands","product.index":"categories","product.index.latest":"latest","product.index.offers":"offers","product.index.search":"search","customer.wishlist":"wishlist","landing-page":"landing-page","product.index.tag":"tags","product.index.sales":"sales","components.most_sales_products":"sales"}[u||salla.config.get("page.slug")]||u||"latest"}getPageTitleForSource(u){u={brands:"common.titles.brands",latest:"blocks.home.latest_products",offers:"common.titles.discounts",sales:"common.titles.most_sales"}[u];return u?salla.lang.get(u):""}getProductsSourceValue(u,e){const s=this.getProductsSource(u);let t=null;if(e){try{t=JSON.parse(e)}catch(u){console.error("Invalid JSON string in sourceValue:",u)}}if(!["search","json","offers","latest","sales","related"].includes(s)){if(Array.isArray(t)&&t.length){return t}if(Array.isArray(t)&&!t.length){return""}if(typeof t==="number"){return[t]}if(!e&&["categories","tags","brands"].includes(u)){return[salla.config.get("page.id")]}}if(t||e){return t||e}if(s==="search"){return new URLSearchParams(window.location.search).get("q")||""}return salla.config.get("page.id")}extractFiltersFromUrl(u){let e={};u.forEach(((u,s)=>{const t=s.match(/^filters\[(.*?)\](\[(.*?)\])?$/u);if(t){const s=t[1];const r=t[3];if(r){e[s]=e[s]||{};e[s][r]=u}else{e[s]=u}}else{const t=s.match(/^(.*?)$/u);if(t){e[t[1]]=u}}}));return e}onSallaReadyPromise(u){return new Promise((e=>salla.onReady((()=>e(u())))))}fetchProducts(u,e,s){return this.onSallaReadyPromise((()=>salla.product.api.fetch({source:u,source_value:e,limit:s})))}}const e=new u;export{e as H};
//# sourceMappingURL=p-4be9ecb6.js.map