/*!
 * Crafted with ❤ by Salla
 */
System.register(["./p-52326bc0.system.js"],(function(t){"use strict";var r,e,o,a;return{setters:[function(t){r=t.r;e=t.h;o=t.H;a=t.g}],execute:function(){var i="salla-installment:empty{display:none}#tabbyPromoWrapper{background:white;border-radius:0.375rem;-webkit-transition:-webkit-box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1);transition:box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1);transition:box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1), -webkit-box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1);margin-bottom:20px}.salla-y #tabbyPromoWrapper{border:1px solid var(--color-grey-dark);border-radius:12px}#tabbyPromoWrapper:hover{-webkit-box-shadow:0 0 rgba(0, 0, 0, 0), 0 0 rgba(0, 0, 0, 0), 5px 10px 30px rgba(43, 45, 52, 0.0509803922);box-shadow:0 0 rgba(0, 0, 0, 0), 0 0 rgba(0, 0, 0, 0), 5px 10px 30px rgba(43, 45, 52, 0.0509803922)}#tabbyPromoWrapper #tabbyPromo *{font-family:var(--font-main)}#tabbyPromoWrapper #tabbyPromo>div>div{max-width:none;-webkit-box-shadow:none;box-shadow:none;border:none}#tabbyPromoWrapper #tabbyPromo .tabby-promo-snippet{max-width:100%;min-height:100px;padding:18px 20px;border:none !important}#tabbyPromoWrapper #tabbyPromo .tabby-promo-snippet__text,#tabbyPromoWrapper #tabbyPromo .tabby-promo-snippet__link{font-size:var(--font-sm);color:var(--color-text) !important}#tabbyPromoWrapper #tabbyPromo .tabby-promo-snippet__link{font-weight:bold}.tabby-promo-wrapper #tabby-promo{font-family:var(--font-main) !important}.tabby-promo-wrapper #tabby-promo .tabby-promo__feature-title{font-size:var(--font-md)}.tabby-promo-wrapper #tabby-promo .tabby-promo__feature-desc{font-size:var(--font-sm);line-height:20px}.tamara-product-widget{margin-bottom:20px}.tamara-product-widget,.spotii-wrapper{min-height:100px;position:relative;color:var(--color-text);font-size:var(--font-sm);line-height:1.25;padding:18px 20px 18px 100px !important;background:white;border-radius:0.375rem;-webkit-transition:-webkit-box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1);transition:box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1);transition:box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1), -webkit-box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1)}.salla-y .tamara-product-widget,.salla-y .spotii-wrapper{border-radius:12px;border:1px solid var(--color-grey-dark)}.tamara-product-widget:hover,.spotii-wrapper:hover{-webkit-box-shadow:0 0 rgba(0, 0, 0, 0), 0 0 rgba(0, 0, 0, 0), 5px 10px 30px rgba(43, 45, 52, 0.0509803922);box-shadow:0 0 rgba(0, 0, 0, 0), 0 0 rgba(0, 0, 0, 0), 5px 10px 30px rgba(43, 45, 52, 0.0509803922)}.tamara-product-widget .spotii-logo,.spotii-wrapper .spotii-logo{float:left;margin:0 0 0 -75px}.ltr .tamara-product-widget,.ltr .spotii-wrapper{text-align:left;padding:18px 100px 18px 20px !important}.ltr .tamara-product-widget .spotii-logo,.ltr .spotii-wrapper .spotii-logo{float:right;margin:0 -75px 0 0}.ltr .tamara-product-widget .spotii-product-widget,.ltr .spotii-wrapper .spotii-product-widget{text-align:left !important}.spotii-wrapper{margin-bottom:20px}.spotii-wrapper .spotii-promo{font-size:var(--font-md)}.spotii-wrapper .spotii-product-widget{font-size:var(--font-sm) !important;margin-top:10px}.tamara-product-widget .tamara-logo{position:absolute;left:20px;top:18px;margin:0 !important}.ltr .tamara-product-widget .tamara-logo{right:20px;left:auto}.tamara-product-widget span{font-family:var(--font-main);font-size:var(--font-sm);color:var(--color-text)}.tamara-product-widget span:last-child{display:block;position:relative;margin-top:8px}.tamara-popup__wrap{overflow:auto !important}";var p=t("salla_installment",function(){function t(t){var e=this;r(this,t);this.tabbyBorderRemoved=false;this.tabbyRemoveBorderTries=0;this.price=undefined;this.language=salla.config.get("user.language_code");this.currency=salla.config.get("user.currency_code");this.tamaraIsActive=undefined;this.tabbyIsActive=undefined;this.spotiiIsActive=undefined;salla.lang.onLoaded((function(){var t=salla.config.get("store.settings.installments");if(t){e.tamaraIsActive=t.includes("tamara_installment");e.tabbyIsActive=t.includes("tabby_installment");e.spotiiIsActive=t.includes("spotii_pay")}e.renderInstallments()}));salla.event.on("product::price.updated",(function(t){var r=t.data;if(!r.price||r.price==e.price){return}e.price=r.price;e.renderInstallments(true)}))}t.prototype.render=function(){return e(o,null,this.tamaraIsActive?e("div",{class:"tamara-product-widget","data-price":this.price,"data-currency":this.currency,"data-lang":this.language,"data-payment-type":"installment"}):"",this.tabbyIsActive?e("div",{id:"tabbyPromoWrapper"},e("div",{id:"tabbyPromo"})):"",this.spotiiIsActive?e("div",{class:"spotii-wrapper"},e("div",{class:"spotii-promo"})):"")};t.prototype.renderInstallments=function(t){var r=this;if(t===void 0){t=false}if(this.tamaraIsActive){if(t){var e=document.querySelector('script[src="https://cdn.tamara.co/widget/product-widget.min.js"]');if(e){e.remove()}}var o=document.createElement("script");o.setAttribute("src","https://cdn.tamara.co/widget/product-widget.min.js");document.head.appendChild(o);o.onload=function(){window.TamaraProductWidget.init({lang:r.language});setTimeout((function(){window.TamaraProductWidget.render()}),300)}}if(this.tabbyIsActive){if(t){var a=this.host.querySelector("#tabbyPromoWrapper");if(a){a.remove()}var i=document.createElement("div");i.setAttribute("id","tabbyPromoWrapper");var p=document.createElement("div");p.setAttribute("id","tabbyPromo");i.appendChild(p);this.host.appendChild(i);var s=document.querySelector('script[src="https://checkout.tabby.ai/tabby-promo.js"]');if(s){s.remove()}}var n=document.createElement("script");n.setAttribute("src","https://checkout.tabby.ai/tabby-promo.js");document.head.appendChild(n);n.onload=function(){var t=window.TabbyPromo;new t({selector:"#tabbyPromo",currency:r.currency,price:r.price,lang:r.language});document.querySelectorAll(".tabby-promo-snippet__logo").forEach((function(t){t.setAttribute("aria-label","Tabby Logo")}))};this.removeTabbyBorder()}if(this.spotiiIsActive){if(t){var b=this.host.querySelector(".spotii-wrapper");if(b){b.remove()}var d=document.createElement("div");d.classList.add("spotii-wrapper");var c=document.createElement("div");c.classList.add("spotii-promo");d.appendChild(c);this.host.appendChild(d);var m=document.querySelector('script[src="'+salla.url.cdn("js/price-widget-ar-salla.js")+'"]');if(m){m.remove()}}var l=salla.money((Number(this.price)/3).toFixed(2));var u=salla.config.get("theme.is_rtl",true);window.spotiiConfig={targetXPath:[".spotii-wrapper"],renderToPath:[".spotii-promo"],numberOfPayment:3,currency:this.currency,templateLine:"${textOne} ${number} ${textTwo} "+l+"${logo} ${info}",textOne:u?"جزء الدفع على":"Split it into",textTwo:u?"أقساط متساوية بدون تكاليف اضافية بقيمة":"payments of",textThree:"مع",price:this.price};var y=document.createElement("script");y.setAttribute("src",salla.url.cdn("js/price-widget-ar-salla.js"));document.head.appendChild(y)}};t.prototype.removeTabbyBorder=function(){var t=this;if(this.tabbyBorderRemoved||this.tabbyRemoveBorderTries>5){return}this.tabbyRemoveBorderTries++;setTimeout((function(){var r=document.querySelector("#tabbyPromo>div>div");r=r?r.shadowRoot.querySelector('div[class^="styles__tabby-promo-snippet--"]'):null;if(r){r.style="border: none; margin: 15px 0!important;";t.tabbyBorderRemoved=true}else{t.removeTabbyBorder()}}),this.tabbyRemoveBorderTries*500)};Object.defineProperty(t.prototype,"host",{get:function(){return a(this)},enumerable:false,configurable:true});return t}());p.style=i}}}));
//# sourceMappingURL=p-58047d2b.system.entry.js.map